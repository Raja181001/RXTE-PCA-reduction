directories=$(find . -maxdepth 1 -type d -name "*-result" -printf "%f\n")
output_file="AlternateDimension1.csv"

# Initialize the output file with headers (optional)
echo "Directory,Value1,Value2,Value3" > "$output_file"

for directory in $directories; do
    # Extract the third line from the bottom
    tail -n 3 ${directory}/temp1.txt | head -n 1 > outputin.txt
    
    # Prepare directory name for CSV
    echo "$directory" > outputmid.txt
    
    # Format the extracted data
    cut -c 32-41 outputin.txt | tr -d " rgs/()" >> outputmid.txt
    
    # Combine and append data
    line_content=$(paste -sd "," outputmid.txt)
    echo "$directory,$line_content" >> "$output_file"
    
    # Clean up temporary files
    rm outputin.txt outputmid.txt
done

